# TIL 230309(목)

1. 비동기 처리
    - promise
        - promise chaining이란?    
        promise의 then 핸들러의 체인(사슬)에 의해 result가 전달되는 것.
            ```javascript
            new Promise(function(resolve, reject) {
                setTimeout(() => resolve(1), 1000);
            }).then(function(result) {
                alert(result);
                return result * 2;
            }).then(function(result) {
                alert(result);
                return result * 2;
            }).then(function(result) {
                alert(result); 
                return result * 2;
            });
            ```
    - async/await
2. 코드 분석
    - 코드 분석법
        ```
        코드 분석법 여기에 작성하기(코드분석 레포지토리 read.me에 넣고 그 링크를 여기 넣기)
        ```
    - 묵찌빠 레퍼런스 코드 분석
        ```
        코드분석한 내용 여기에 작성하기(혹은 코드분석 레포지토리 링크를 여기 넣기)
        ```
---
## 이슈
- promise
    ```javascript
    // 1번 코드 (promise chaining)
    new Promise((resolve, reject) => {
        setTimeout(() => resolve("3초가 지났습니다."),3000);
    }).then(res=>{
        console.log(res);
        return new Promise((resolve, reject)=>{
            setTimeout(()=>resolve("2초가 지났습니다."),2000);
        })
    }).then(res=>{
        console.log(res);
        return new Promise((resolve, reject)=>{
            setTimeout(()=>resolve("1초가 지났습니다."),1000);
        })
    }).then(res => console.log(res));

    // 2번 코드 (1번 코드의 promise를 변수로 선언하여 구현함)
    const delay3 = new Promise((resolve, reject) => {
        setTimeout(() => resolve("3초가 지났습니다."),3000);
    });
    const delay2 = new Promise((resolve, reject) => {
        setTimeout(() => resolve("2초가 지났습니다."),2000);
    });
    const delay1 = new Promise((resolve, reject) => {
        setTimeout(() => resolve("1초가 지났습니다."),1000);
    });

    delay3.then(res=>{
        console.log(res);
        return delay2;
    }).then(res=>{
        console.log(res);
        return delay1;
    }).then(res=>{
        console.log(res);
    })

    //3번 코드 (2번 코드의 변수를 function으로 변경하여 실행)
    const delay3 = () => new Promise((resolve, reject) => {
    setTimeout(() => resolve("3초가 지났습니다."),3000);
    });
    const delay2 = () => new Promise((resolve, reject) => {
        setTimeout(() => resolve("2초가 지났습니다."),2000);
    });
    const delay1 = () => new Promise((resolve, reject) => {
        setTimeout(() => resolve("1초가 지났습니다."),1000);
    });

    delay3().then((res)=>{
        console.log(res);
        return delay2();
    }).then((res)=>{
        console.log(res);
        return delay1();
    }).then(res=>{
        console.log(res);
    })
    ```
    3초 딜레이 후 "3초가 지났습니다.", 2초 딜레이 후 "2초가 지났습니다.", 1초 딜레이 후 "1초가 지났습니다"를 출력하기 위해 만든 코드이다.    
    1번 코드와 3번 코드는 정상적으로 작동하지만, 2번 코드는 3초 딜레이 후 모든 메시지가 동시에 출력된다.
---
## 출처  

- (promise, async/await) 인프런 강의 - 한입 크기로 잘라 먹는 리액트(React.js) : 기초부터 실전까지
- (비동기 처리) https://rough-helium-012.notion.site/JS_Asynchronous-068d23909212417eb7726bcab59cd897
- (promise chaining) https://ko.javascript.info/promise-chaining
- 