# TIL 230315(수)

- React useState의 함수형 업데이트
    - useState의 setState는 비동기로 동작함
        ```javascript
        const [value, setValue] = useState(0);

        const onClick = () => {
            setValue(value+1);
            setValue(value+1);
            setValue(value+1);
        }
        ```
        - onClick 함수를 실행하면 value는 1이 됨
        - react가 효율적으로 렌더링하기 위해 여러 개의 상태 값 변경 요청을 일괄 처리(batch)하기 때문임
        - 따라서 setState는 변경된 사항을 기억하지 않기 때문에 마지막 업데이트만 적용되어 렌더링에 쓰이게 됨
        - setState를 동기적으로 사용하기 위해서는 함수형 업데이트를 해야 함
    - useState 함수형 업데이트
        - setState에 값을 그대로 전달하지 않고 함수를 전달하는 방법
        ```javascript
        const [value, setValue] =  useState(0)

        const onClick = () => {
            setValue(prev => prev+1)
            setValue(prev => prev+1)
            setValue(prev => prev+1)
        }
        ```
        - 함수형 업데이트는 업데이트된 값을 저장하기 때문에 여러 번의 업데이트가 적용되어 다음 렌더링에 사용됨
        - 전달받은 여러 개의 함수들이 순서대로 실행되면서 최신의 state를 유지한다는 의미
---
## 출처
- (useState) https://velog.io/@tjdgus0528/React-Native-5x048oii
- (useState) https://velog.io/@suyeonme/react-useState%EC%9D%98-%EB%B9%84%EB%8F%99%EA%B8%B0%EC%A0%81-%EC%86%8D%EC%84%B1-%ED%95%A8%EC%88%98%ED%98%95-%EC%97%85%EB%8D%B0%EC%9D%B4%ED%8A%B8
- (useState) https://garve32.tistory.com/39